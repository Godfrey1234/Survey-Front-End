{"ast":null,"code":"import Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router; //variable to store the selected radio button\n\n    this.answer = '';\n  }\n\n  ngOnInit() {}\n\n  onSubmit(data) {\n    // TODO: Use EventEmitter with form value\n    //console.warn(this.loginForm.value);\n    const encryption = {\n      key: 'AAAAAAAAAAAAAA',\n      algorithm: 'aes-256-cbc'\n    };\n    /*const jwtDetails = {\n      secret: '1234567890', // to sign the token\n      // Default values that will be automatically applied unless specified.\n      //algorithm: 'HS256',\n      //expiresIn: '12h',\n      //notBefore: '0s',\n      // Other optional values\n      key: 'ThisIsMyAppISS',// is used as ISS but can be named iss too\n    };*/\n    //Check if Selected Radio button is for student\n\n    if (this.answer == \"Student\") {\n      console.log(this.answer); //Retrieve Information from the database\n\n      this.http.post('http://localhost:3000/login', data, {\n        responseType: 'text'\n      }).subscribe(result => {\n        console.warn(\"result\", result);\n\n        if (result == \"incorrect username or password\" || result == \"Enter Values\") {\n          Swal.fire(result, '', 'warning');\n        } else {\n          /* const jwt = async()=> {\n             \n             const token = await jwtEncrypt.generateJWT(\n             this.answer,\n             encryption,\n             result\n           );}\n           //store the results using a token\n           localStorage.setItem(\"token\", result)\n          */\n          Swal.fire('Successfully Logged In!', '', 'success'); //Navigate to the Home page\n\n          this.router.navigate(['/home']);\n        }\n      });\n      console.warn(data);\n    } //Check if Selected Radio button is for Lecturer\n\n\n    if (this.answer == \"Lecturer\") {\n      console.log(this.answer); //Retrieve Information from the database\n\n      this.http.post('http://localhost:3000/lec_login', data, {\n        responseType: 'text'\n      }).subscribe(result => {\n        console.warn(\"result\", result);\n\n        if (result == \"incorrect username or password\" || result == \"Enter Values\") {\n          Swal.fire(result, '', 'warning');\n        } else {\n          //store the results using a token\n          localStorage.setItem(\"token\", result);\n          Swal.fire('Successfully Logged In!', '', 'success'); //Navigate to the Home page\n\n          this.router.navigate(['/lecture-home']);\n        }\n      });\n      console.warn(data);\n    } //Check if Selected Radio button is for Admin\n\n\n    if (this.answer == \"Admin\") {\n      console.log(this.answer); //Retrieve fronm database\n\n      this.http.post('http://localhost:3000/adminLogin', data, {\n        responseType: 'text'\n      }).subscribe(result => {\n        console.warn(\"result\", result);\n\n        if (result == \"incorrect username or password\" || result == \"Enter Values\") {\n          Swal.fire(result, '', 'warning'); //Navigate to the Admin  page\n        } else {\n          localStorage.setItem(\"token\", result);\n          Swal.fire('Successfully Logged In!', '', 'success');\n          this.router.navigate(['/admin']);\n        }\n      });\n      console.warn(data);\n    } //check if the radio button is clicked\n\n\n    if (this.answer == \"\") {\n      Swal.fire('Select Radio Button', '', 'error');\n    }\n  }\n\n}\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  inputs: {\n    answer: \"answer\"\n  },\n  decls: 75,\n  vars: 3,\n  consts: [[\"src\", \"assets/images/LBSdesign1.png\", \"alt\", \"\", \"width\", \"130\", \"height\", \"90\"], [\"routerLink\", \"/register\", \"routerLinkActive\", \"active\"], [2, \"text-align\", \"center\", 3, \"ngSubmit\"], [\"userPost\", \"ngForm\"], [\"type\", \"radio\", \"value\", \"Student\", \"name\", \"Student\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"radio\", \"value\", \"Lecturer\", \"name\", \"Lecturer\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"radio\", \"value\", \"Admin\", \"name\", \"Admin\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"username\"], [\"type\", \"text\", \"name\", \"stuNumber\", \"placeholder\", \"Username\", \"ngModel\", \"\", \"required\", \"\"], [\"for\", \"password\"], [\"type\", \"password\", \"name\", \"password\", \"ngModel\", \"\", \"placeholder\", \"Password\", \"required\", \"\"], [\"id\", \"login_btn\", \"type\", \"submit\", \"ngModel\", \"\"], [\"id\", \"forgotpass\", \"routerLink\", \"/forgot-password\", \"routerLinkActive\", \"active\"], [\"id\", \"footer\"], [1, \"covid\"], [\"href\", \"https://sacoronavirus.co.za/\"], [\"alt\", \"SACoronavirus Resource and News Portal\", \"width\", \"30%\", \"height\", \"80\", \"src\", \"/assets/images/SACoronavirus.png\", 2, \"border-radius\", \"15px\"], [1, \"about\"], [\"href\", \"\", 1, \"contact\"], [\"href\", \"\", 1, \"about\"], [\"href\", \"https://www.facebook.com/TUTCommunications\", 1, \"facebook\"], [\"href\", \"https://twitter.com/official_tut\", 1, \"twitter\"], [\"href\", \"https://www.youtube.com/channel/UCD4jxDpRYTarILQjtsEQv9Q?view_as=subscriber\", 1, \"youtube\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r1 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"header\");\n      i0.ɵɵelementStart(1, \"h1\");\n      i0.ɵɵelement(2, \"img\", 0);\n      i0.ɵɵtext(3, \"\\u00A0\\u00A0\\u00A0 Lab Booking system \");\n      i0.ɵɵelementStart(4, \"nav\");\n      i0.ɵɵelementStart(5, \"a\", 1);\n      i0.ɵɵtext(6, \"Register / Create Account\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(7, \"\\u00A0\\u00A0 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"h2\");\n      i0.ɵɵtext(9, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"br\");\n      i0.ɵɵelementStart(11, \"form\", 2, 3);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_11_listener() {\n        i0.ɵɵrestoreView(_r1);\n\n        const _r0 = i0.ɵɵreference(12);\n\n        return ctx.onSubmit(_r0.value);\n      });\n      i0.ɵɵelementStart(13, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_13_listener($event) {\n        return ctx.answer = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"label\");\n      i0.ɵɵtext(15, \"Student\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.answer = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"label\");\n      i0.ɵɵtext(18, \"Lecturer\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_19_listener($event) {\n        return ctx.answer = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"label\");\n      i0.ɵɵtext(21, \"Admin\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(22, \"br\");\n      i0.ɵɵelement(23, \"br\");\n      i0.ɵɵelementStart(24, \"label\", 7);\n      i0.ɵɵtext(25, \"Username\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(26, \"br\");\n      i0.ɵɵelement(27, \"input\", 8);\n      i0.ɵɵelement(28, \"br\");\n      i0.ɵɵelement(29, \"br\");\n      i0.ɵɵelementStart(30, \"label\", 9);\n      i0.ɵɵtext(31, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(32, \"br\");\n      i0.ɵɵelement(33, \"input\", 10);\n      i0.ɵɵelement(34, \"br\");\n      i0.ɵɵelement(35, \"br\");\n      i0.ɵɵelement(36, \"br\");\n      i0.ɵɵelementStart(37, \"button\", 11);\n      i0.ɵɵtext(38, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(39, \"br\");\n      i0.ɵɵelement(40, \"br\");\n      i0.ɵɵelementStart(41, \"a\", 12);\n      i0.ɵɵtext(42, \"Forgot Password?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(43, \"br\");\n      i0.ɵɵelementStart(44, \"div\", 13);\n      i0.ɵɵelementStart(45, \"footer\");\n      i0.ɵɵelement(46, \"br\");\n      i0.ɵɵelementStart(47, \"div\", 14);\n      i0.ɵɵelementStart(48, \"a\", 15);\n      i0.ɵɵelement(49, \"img\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(50, \"br\");\n      i0.ɵɵelementStart(51, \"div\", 17);\n      i0.ɵɵelementStart(52, \"h4\");\n      i0.ɵɵelementStart(53, \"a\", 18);\n      i0.ɵɵtext(54, \"contact Us\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(55, \"br\");\n      i0.ɵɵelement(56, \"br\");\n      i0.ɵɵelementStart(57, \"a\", 19);\n      i0.ɵɵtext(58, \"About\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"h4\");\n      i0.ɵɵtext(60, \"Follow Us\");\n      i0.ɵɵelement(61, \"br\");\n      i0.ɵɵelement(62, \"br\");\n      i0.ɵɵelementStart(63, \"a\", 20);\n      i0.ɵɵtext(64, \"Facebook\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(65, \"br\");\n      i0.ɵɵelement(66, \"br\");\n      i0.ɵɵelementStart(67, \"a\", 21);\n      i0.ɵɵtext(68, \"Twitter\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(69, \"br\");\n      i0.ɵɵelement(70, \"br\");\n      i0.ɵɵelementStart(71, \"a\", 22);\n      i0.ɵɵtext(72, \"Youtube\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(73, \"br\");\n      i0.ɵɵelement(74, \"br\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngModel\", ctx.answer);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.answer);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.answer);\n    }\n  },\n  directives: [i2.RouterLinkWithHref, i2.RouterLinkActive, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.RadioControlValueAccessor, i3.DefaultValueAccessor, i3.RequiredValidator, i3.NgControlStatus, i3.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEscUJBQXFCIiwiZmlsZSI6ImxvZ2luLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKipMb2dpbiBzdHlsZXNoZWV0KiovXG4iXX0= */\", \"h1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{\\n     background-repeat: no-repeat;\\n     float: left;\\n     position: inherit;\\n     display: grid;\\n     margin-top: 15px;\\n     padding-right: 0px;\\n     padding-left: 10px;\\n     filter: drop-shadow(0 0 0.75rem rgb(248, 248, 247));\\n     text-shadow: 2px 2px 4px #fbfbfb;\\n   }\\n   h1[_ngcontent-%COMP%]{\\n     line-height: 500%;\\n     background-color: black;\\n     font-family: 'Arial Narrow Bold', sans-serif;\\n     font-weight: 100px;\\n     color: white;\\n   }\\n  \\n  h1[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{\\n     float: right;\\n     margin-top: 0px;\\n     color: grey;\\n     font-size: 18px;\\n     list-style: none;\\n   }\\n   h2[_ngcontent-%COMP%]{\\n     text-align: center;\\n     font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;\\n     font-size: 30px;\\n     color: rgb(236, 146, 146);\\n     margin-top: 140px;\\n   }\\n   h4[_ngcontent-%COMP%]{\\n     font-family: \\\"Roboto\\\", sans-serif;\\n     text-align: center;\\n     margin-top: 0px;\\n   }\\n   .covid[_ngcontent-%COMP%]{\\n     text-align: center;\\n   }\\n   .about[_ngcontent-%COMP%]{\\n     text-align: center;\\n     margin-bottom: 0px;\\n   }\\n   a[_ngcontent-%COMP%]{\\n     color: white;\\n     text-decoration: none;\\n     padding: 5px 18px;\\n     font-family: \\\"Roboto\\\", sans-serif;\\n \\n   }\\n   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{\\n     border: 1px solid white;\\n     color: red;\\n   }\\n   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{\\n     border: 1px solid white;\\n   }\\n   #footer[_ngcontent-%COMP%]{\\n    background-color: grey;\\n     background-size: cover;\\n   }\\n   #login_btn[_ngcontent-%COMP%]{\\n    font-family: monospace;\\n     border-radius: 15px;\\n     padding: 8px 13px 8px 13px;\\n     color: black;\\n     background-color: white;\\n   }\\n   #login_btn[_ngcontent-%COMP%]:hover{\\n     background-color: black;\\n     color: white;\\n   }\\n   #forgotpass[_ngcontent-%COMP%]{\\n     color: rgb(71, 71, 243);\\n   }\\n   form[_ngcontent-%COMP%]{\\n     border-top: 1px;\\n     border-style: solid grey 0.5px;\\n   }\\n   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{\\n     color: black;\\n     font-family: fantasy;\\n   }\\n   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{\\n     border-bottom: 2px solid black;\\n     border-radius: 12px;\\n     padding: 5px;\\n   }\"]\n});","map":{"version":3,"sources":["/home/whitewalker/Projects/icep2/LBS-front/src/app/login/login.component.ts","/home/whitewalker/Projects/icep2/LBS-front/src/app/login/login.component.html"],"names":[],"mappings":"AAKA,OAAO,IAAP,MAAiB,aAAjB;;;;;AAYA,OAAM,MAAO,cAAP,CAAqB;AAIzB,EAAA,WAAA,CAAoB,IAApB,EAA8C,MAA9C,EAA4D;AAAxC,SAAA,IAAA,GAAA,IAAA;AAA0B,SAAA,MAAA,GAAA,MAAA,CAAc,CAE5D;;AACA,SAAA,MAAA,GAAS,EAAT;AAHiE;;AAKjE,EAAA,QAAQ,GAAA,CACP;;AAID,EAAA,QAAQ,CAAC,IAAD,EAAK;AACX;AACA;AAEA,UAAM,UAAU,GAAG;AACjB,MAAA,GAAG,EAAE,gBADY;AAEjB,MAAA,SAAS,EAAE;AAFM,KAAnB;AAKA;;;;;;;;AAQE;AAGF;;AACA,QAAI,KAAK,MAAL,IAAe,SAAnB,EAA8B;AAC5B,MAAA,OAAO,CAAC,GAAR,CAAY,KAAK,MAAjB,EAD4B,CAE5B;;AACA,WAAK,IAAL,CAAU,IAAV,CAAe,6BAAf,EAA8C,IAA9C,EAAoD;AAAE,QAAA,YAAY,EAAE;AAAhB,OAApD,EACG,SADH,CACc,MAAD,IAAW;AACpB,QAAA,OAAO,CAAC,IAAR,CAAa,QAAb,EAAuB,MAAvB;;AACA,YAAI,MAAM,IAAI,gCAAV,IAA8C,MAAM,IAAI,cAA5D,EAA4E;AAC1E,UAAA,IAAI,CAAC,IAAL,CACE,MADF,EAEE,EAFF,EAGE,SAHF;AAMD,SAPD,MAOO;AACL;;;;;;;;;AASV;AACU,UAAA,IAAI,CAAC,IAAL,CAEE,yBAFF,EAGE,EAHF,EAIE,SAJF,EAXK,CAiBL;;AACA,eAAK,MAAL,CAAY,QAAZ,CAAqB,CAAC,OAAD,CAArB;AACD;AAEF,OA/BH;AAgCA,MAAA,OAAO,CAAC,IAAR,CAAa,IAAb;AACD,KAzDU,CA0DX;;;AACA,QAAI,KAAK,MAAL,IAAe,UAAnB,EAA+B;AAC7B,MAAA,OAAO,CAAC,GAAR,CAAY,KAAK,MAAjB,EAD6B,CAE7B;;AACA,WAAK,IAAL,CAAU,IAAV,CAAe,iCAAf,EAAkD,IAAlD,EAAwD;AAAE,QAAA,YAAY,EAAE;AAAhB,OAAxD,EACG,SADH,CACc,MAAD,IAAW;AACpB,QAAA,OAAO,CAAC,IAAR,CAAa,QAAb,EAAuB,MAAvB;;AACA,YAAI,MAAM,IAAI,gCAAV,IAA8C,MAAM,IAAI,cAA5D,EAA4E;AAC1E,UAAA,IAAI,CAAC,IAAL,CACE,MADF,EAEE,EAFF,EAGE,SAHF;AAMD,SAPD,MAOO;AAEL;AACA,UAAA,YAAY,CAAC,OAAb,CAAqB,OAArB,EAA8B,MAA9B;AAEA,UAAA,IAAI,CAAC,IAAL,CACE,yBADF,EAEE,EAFF,EAGE,SAHF,EALK,CAUL;;AAEA,eAAK,MAAL,CAAY,QAAZ,CAAqB,CAAC,eAAD,CAArB;AAGD;AAEF,OA3BH;AA4BA,MAAA,OAAO,CAAC,IAAR,CAAa,IAAb;AACD,KA3FU,CA4FX;;;AACA,QAAI,KAAK,MAAL,IAAe,OAAnB,EAA4B;AAC1B,MAAA,OAAO,CAAC,GAAR,CAAY,KAAK,MAAjB,EAD0B,CAG1B;;AACA,WAAK,IAAL,CAAU,IAAV,CAAe,kCAAf,EAAmD,IAAnD,EAAyD;AAAE,QAAA,YAAY,EAAE;AAAhB,OAAzD,EACG,SADH,CACc,MAAD,IAAW;AACpB,QAAA,OAAO,CAAC,IAAR,CAAa,QAAb,EAAuB,MAAvB;;AACA,YAAI,MAAM,IAAI,gCAAV,IAA8C,MAAM,IAAI,cAA5D,EAA4E;AAC1E,UAAA,IAAI,CAAC,IAAL,CACG,MADH,EAEI,EAFJ,EAGI,SAHJ,EAD0E,CAM1E;AAGD,SATD,MASO;AACL,UAAA,YAAY,CAAC,OAAb,CAAqB,OAArB,EAA8B,MAA9B;AAEA,UAAA,IAAI,CAAC,IAAL,CACE,yBADF,EAEE,EAFF,EAGE,SAHF;AAMA,eAAK,MAAL,CAAY,QAAZ,CAAqB,CAAC,QAAD,CAArB;AAED;AACF,OAxBH;AAyBA,MAAA,OAAO,CAAC,IAAR,CAAa,IAAb;AAED,KA5HU,CA8HX;;;AACA,QAAI,KAAK,MAAL,IAAe,EAAnB,EAAuB;AACrB,MAAA,IAAI,CAAC,IAAL,CACE,qBADF,EAEE,EAFF,EAGE,OAHF;AAKD;AAIF;;AAvJwB;;;mBAAd,c,EAAc,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,UAAA,C,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,MAAA,C;AAAA,C;;;QAAd,c;AAAc,EAAA,SAAA,EAAA,CAAA,CAAA,WAAA,CAAA,C;AAAA,EAAA,MAAA,EAAA;AAAA,IAAA,MAAA,EAAA;AAAA,G;AAAA,EAAA,KAAA,EAAA,E;AAAA,EAAA,IAAA,EAAA,C;AAAA,EAAA,MAAA,EAAA,CAAA,CAAA,KAAA,EAAA,8BAAA,EAAA,KAAA,EAAA,EAAA,EAAA,OAAA,EAAA,KAAA,EAAA,QAAA,EAAA,IAAA,CAAA,EAAA,CAAA,YAAA,EAAA,WAAA,EAAA,kBAAA,EAAA,QAAA,CAAA,EAAA,CAAA,CAAA,EAAA,YAAA,EAAA,QAAA,EAAA,CAAA,EAAA,UAAA,CAAA,EAAA,CAAA,UAAA,EAAA,QAAA,CAAA,EAAA,CAAA,MAAA,EAAA,OAAA,EAAA,OAAA,EAAA,SAAA,EAAA,MAAA,EAAA,SAAA,EAAA,UAAA,EAAA,EAAA,EAAA,CAAA,EAAA,SAAA,EAAA,eAAA,CAAA,EAAA,CAAA,MAAA,EAAA,OAAA,EAAA,OAAA,EAAA,UAAA,EAAA,MAAA,EAAA,UAAA,EAAA,UAAA,EAAA,EAAA,EAAA,CAAA,EAAA,SAAA,EAAA,eAAA,CAAA,EAAA,CAAA,MAAA,EAAA,OAAA,EAAA,OAAA,EAAA,OAAA,EAAA,MAAA,EAAA,OAAA,EAAA,UAAA,EAAA,EAAA,EAAA,CAAA,EAAA,SAAA,EAAA,eAAA,CAAA,EAAA,CAAA,KAAA,EAAA,UAAA,CAAA,EAAA,CAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,WAAA,EAAA,aAAA,EAAA,UAAA,EAAA,SAAA,EAAA,EAAA,EAAA,UAAA,EAAA,EAAA,CAAA,EAAA,CAAA,KAAA,EAAA,UAAA,CAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,MAAA,EAAA,UAAA,EAAA,SAAA,EAAA,EAAA,EAAA,aAAA,EAAA,UAAA,EAAA,UAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,EAAA,WAAA,EAAA,MAAA,EAAA,QAAA,EAAA,SAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,EAAA,YAAA,EAAA,YAAA,EAAA,kBAAA,EAAA,kBAAA,EAAA,QAAA,CAAA,EAAA,CAAA,IAAA,EAAA,QAAA,CAAA,EAAA,CAAA,CAAA,EAAA,OAAA,CAAA,EAAA,CAAA,MAAA,EAAA,8BAAA,CAAA,EAAA,CAAA,KAAA,EAAA,wCAAA,EAAA,OAAA,EAAA,KAAA,EAAA,QAAA,EAAA,IAAA,EAAA,KAAA,EAAA,kCAAA,EAAA,CAAA,EAAA,eAAA,EAAA,MAAA,CAAA,EAAA,CAAA,CAAA,EAAA,OAAA,CAAA,EAAA,CAAA,MAAA,EAAA,EAAA,EAAA,CAAA,EAAA,SAAA,CAAA,EAAA,CAAA,MAAA,EAAA,EAAA,EAAA,CAAA,EAAA,OAAA,CAAA,EAAA,CAAA,MAAA,EAAA,4CAAA,EAAA,CAAA,EAAA,UAAA,CAAA,EAAA,CAAA,MAAA,EAAA,kCAAA,EAAA,CAAA,EAAA,SAAA,CAAA,EAAA,CAAA,MAAA,EAAA,6EAAA,EAAA,CAAA,EAAA,SAAA,CAAA,C;AAAA,EAAA,QAAA,EAAA,SAAA,uBAAA,CAAA,EAAA,EAAA,GAAA,EAAA;AAAA,QAAA,EAAA,GAAA,CAAA,EAAA;;;ACgF3B,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,QAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA;AAAuE,MAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,wCAAA;AAExE,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA;AAIE,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,GAAA,EAAA,CAAA;AAAoD,MAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,2BAAA;AAAyB,MAAA,EAAA,CAAA,YAAA;AAAI,MAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,eAAA;AAErF,MAAA,EAAA,CAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACD,MAAA,EAAA,CAAA,YAAA;AACA,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,OAAA;AAAK,MAAA,EAAA,CAAA,YAAA;AACT,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AACA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,MAAA,EAAA,CAAA,EAAA,CAAA;AAAyB,MAAA,EAAA,CAAA,UAAA,CAAA,UAAA,EAAA,SAAA,iDAAA,GAAA;AAAA,QAAA,EAAA,CAAA,aAAA,CAAA,GAAA;;AAAA,cAAA,GAAA,GAAA,EAAA,CAAA,WAAA,CAAA,EAAA,CAAA;;AAAA,eAAY,GAAA,CAAA,QAAA,CAAA,GAAA,CAAA,KAAA,CAAZ;AAAoC,OAApC;AACrB,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,EAAA,CAAA;AAAoB,MAAA,EAAA,CAAA,UAAA,CAAA,eAAA,EAAA,SAAA,uDAAA,CAAA,MAAA,EAAA;AAAA,eAAA,GAAA,CAAA,MAAA,GAAA,MAAA;AAAA,OAAA;AAApB,MAAA,EAAA,CAAA,YAAA;AAAiF,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA;AAAO,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,SAAA;AAAO,MAAA,EAAA,CAAA,YAAA;AAC/F,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,EAAA,CAAA;AAAoB,MAAA,EAAA,CAAA,UAAA,CAAA,eAAA,EAAA,SAAA,uDAAA,CAAA,MAAA,EAAA;AAAA,eAAA,GAAA,CAAA,MAAA,GAAA,MAAA;AAAA,OAAA;AAApB,MAAA,EAAA,CAAA,YAAA;AAAmF,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA;AAAO,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,UAAA;AAAQ,MAAA,EAAA,CAAA,YAAA;AAClG,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,EAAA,CAAA;AAAoB,MAAA,EAAA,CAAA,UAAA,CAAA,eAAA,EAAA,SAAA,uDAAA,CAAA,MAAA,EAAA;AAAA,eAAA,GAAA,CAAA,MAAA,GAAA,MAAA;AAAA,OAAA;AAApB,MAAA,EAAA,CAAA,YAAA;AAA6E,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA;AAAO,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,OAAA;AAAK,MAAA,EAAA,CAAA,YAAA;AACzF,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AACJ,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,EAAA,CAAA;AAAsB,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,UAAA;AAAQ,MAAA,EAAA,CAAA,YAAA;AAAQ,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AACtC,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,OAAA,EAAA,CAAA;AAA4E,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAChF,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,EAAA,CAAA;AAAsB,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,UAAA;AAAQ,MAAA,EAAA,CAAA,YAAA;AAAQ,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AACtC,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,OAAA,EAAA,EAAA;AAA+E,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAC9E,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,QAAA,EAAA,EAAA;AAA6C,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,OAAA;AAAK,MAAA,EAAA,CAAA,YAAA;AAC1D,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AACJ,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA;AAA2E,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,kBAAA;AAAgB,MAAA,EAAA,CAAA,YAAA;AAG7F,MAAA,EAAA,CAAA,YAAA;AAEA,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAEA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA;AACC,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,QAAA;AACE,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AACA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA;AAAuC,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA;AACE,MAAA,EAAA,CAAA,YAAA;AAC3C,MAAA,EAAA,CAAA,YAAA;AACA,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AACA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA;AACA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,IAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA;AAA2B,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,YAAA;AAAU,MAAA,EAAA,CAAA,YAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAC7C,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA;AAAyB,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,OAAA;AAAK,MAAA,EAAA,CAAA,YAAA;AAChC,MAAA,EAAA,CAAA,YAAA;AACA,MAAA,EAAA,CAAA,YAAA;AACI,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,WAAA;AAAS,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AACf,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA;AAAsE,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,UAAA;AAAQ,MAAA,EAAA,CAAA,YAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AACtF,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA;AAA2D,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,SAAA;AAAO,MAAA,EAAA,CAAA,YAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAC1E,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA;AAAsG,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,SAAA;AAAO,MAAA,EAAA,CAAA,YAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AACvH,MAAA,EAAA,CAAA,YAAA;AAEN,MAAA,EAAA,CAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;;;;AAtCsB,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA;AAAA,MAAA,EAAA,CAAA,UAAA,CAAA,SAAA,EAAA,GAAA,CAAA,MAAA;AACA,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,UAAA,CAAA,SAAA,EAAA,GAAA,CAAA,MAAA;AACA,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,UAAA,CAAA,SAAA,EAAA,GAAA,CAAA,MAAA","sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\n//import { FormGroup, FormControl, FormBuilder,Validators } from '@angular/forms';\n//import { IssueService } from '../issue.service';\nimport { Router, NavigationExtras } from '@angular/router';\nimport { HttpClient } from '@angular/common/http';\nimport Swal from 'sweetalert2';\nimport * as jwtEncrypt from 'jwt-token-encrypt';\n\n\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css'],\n\n})\nexport class LoginComponent implements OnInit {\n\n\n\n  constructor(private http: HttpClient, private router: Router) { }\n  @Input()\n  //variable to store the selected radio button\n  answer = '';\n\n  ngOnInit(): void {\n  }\n\n\n\n  onSubmit(data) {\n    // TODO: Use EventEmitter with form value\n    //console.warn(this.loginForm.value);\n\n    const encryption = {\n      key: 'AAAAAAAAAAAAAA',\n      algorithm: 'aes-256-cbc',\n    };\n\n    /*const jwtDetails = {\n      secret: '1234567890', // to sign the token\n      // Default values that will be automatically applied unless specified.\n      //algorithm: 'HS256',\n      //expiresIn: '12h',\n      //notBefore: '0s',\n      // Other optional values\n      key: 'ThisIsMyAppISS',// is used as ISS but can be named iss too\n  };*/\n\n\n    //Check if Selected Radio button is for student\n    if (this.answer == \"Student\") {\n      console.log(this.answer);\n      //Retrieve Information from the database\n      this.http.post('http://localhost:3000/login', data, { responseType: 'text' })\n        .subscribe((result) => {\n          console.warn(\"result\", result)\n          if (result == \"incorrect username or password\" || result == \"Enter Values\") {\n            Swal.fire(\n              result,\n              '',\n              'warning'\n            )\n\n          } else {\n            /* const jwt = async()=> {\n               \n               const token = await jwtEncrypt.generateJWT(\n               this.answer,\n               encryption,\n               result\n             );}\n             //store the results using a token\n             localStorage.setItem(\"token\", result)\n*/\n            Swal.fire(\n\n              'Successfully Logged In!',\n              '',\n              'success'\n            )\n            //Navigate to the Home page\n            this.router.navigate(['/home']);\n          }\n\n        })\n      console.warn(data);\n    }\n    //Check if Selected Radio button is for Lecturer\n    if (this.answer == \"Lecturer\") {\n      console.log(this.answer);\n      //Retrieve Information from the database\n      this.http.post('http://localhost:3000/lec_login', data, { responseType: 'text' })\n        .subscribe((result) => {\n          console.warn(\"result\", result)\n          if (result == \"incorrect username or password\" || result == \"Enter Values\") {\n            Swal.fire(\n              result,\n              '',\n              'warning'\n            )\n\n          } else {\n\n            //store the results using a token\n            localStorage.setItem(\"token\", result)\n\n            Swal.fire(\n              'Successfully Logged In!',\n              '',\n              'success'\n            )\n            //Navigate to the Home page\n\n            this.router.navigate(['/lecture-home']);\n\n\n          }\n\n        })\n      console.warn(data);\n    }\n    //Check if Selected Radio button is for Admin\n    if (this.answer == \"Admin\") {\n      console.log(this.answer);\n\n      //Retrieve fronm database\n      this.http.post('http://localhost:3000/adminLogin', data, { responseType: 'text' })\n        .subscribe((result) => {\n          console.warn(\"result\", result)\n          if (result == \"incorrect username or password\" || result == \"Enter Values\") {\n            Swal.fire\n              (result,\n                '',\n                'warning'\n              )\n            //Navigate to the Admin  page\n\n\n          } else {\n            localStorage.setItem(\"token\", result)\n\n            Swal.fire(\n              'Successfully Logged In!',\n              '',\n              'success'\n            )\n\n            this.router.navigate(['/admin']);\n\n          }\n        })\n      console.warn(data);\n\n    }\n\n    //check if the radio button is clicked\n    if (this.answer == \"\") {\n      Swal.fire(\n        'Select Radio Button',\n        '',\n        'error'\n      )\n    }\n\n\n\n  }\n\n\n}\n","<style>\n  \n  h1 img{\n     background-repeat: no-repeat;\n     float: left;\n     position: inherit;\n     display: grid;\n     margin-top: 15px;\n     padding-right: 0px;\n     padding-left: 10px;\n     filter: drop-shadow(0 0 0.75rem rgb(248, 248, 247));\n     text-shadow: 2px 2px 4px #fbfbfb;\n   }\n   h1{\n     line-height: 500%;\n     background-color: black;\n     font-family: 'Arial Narrow Bold', sans-serif;\n     font-weight: 100px;\n     color: white;\n   }\n  \n  h1 nav{\n     float: right;\n     margin-top: 0px;\n     color: grey;\n     font-size: 18px;\n     list-style: none;\n   }\n   h2{\n     text-align: center;\n     font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;\n     font-size: 30px;\n     color: rgb(236, 146, 146);\n     margin-top: 140px;\n   }\n   h4{\n     font-family: \"Roboto\", sans-serif;\n     text-align: center;\n     margin-top: 0px;\n   }\n   .covid{\n     text-align: center;\n   }\n   .about{\n     text-align: center;\n     margin-bottom: 0px;\n   }\n   a{\n     color: white;\n     text-decoration: none;\n     padding: 5px 18px;\n     font-family: \"Roboto\", sans-serif;\n \n   }\n   nav a:hover{\n     border: 1px solid white;\n     color: red;\n   }\n   nav a:active{\n     border: 1px solid white;\n   }\n   #footer{\n    background-color: grey;\n     background-size: cover;\n   }\n   #login_btn{\n    font-family: monospace;\n     border-radius: 15px;\n     padding: 8px 13px 8px 13px;\n     color: black;\n     background-color: white;\n   }\n   #login_btn:hover{\n     background-color: black;\n     color: white;\n   }\n   #forgotpass{\n     color: rgb(71, 71, 243);\n   }\n   form{\n     border-top: 1px;\n     border-style: solid grey 0.5px;\n   }\n   form label{\n     color: black;\n     font-family: fantasy;\n   }\n   form input{\n     border-bottom: 2px solid black;\n     border-radius: 12px;\n     padding: 5px;\n   }\n </style>\n\n\n\n\n<header>  \n  <h1><img src=\"assets/images/LBSdesign1.png\" alt=\"\" width=\"130\" height=\"90\">&nbsp;&nbsp;&nbsp;\n   Lab Booking system\n     <nav>\n\n      \n\n       <a routerLink=\"/register\" routerLinkActive=\"active\">Register / Create Account</a>&nbsp;&nbsp;\n\n   </nav>\n </h1>\n</header>\n<h2>Login</h2>\n<br>\n<form #userPost=\"ngForm\" (ngSubmit)=\"onSubmit(userPost.value)\" style=\"text-align: center;\">\n    <input type=\"radio\" [(ngModel)]=\"answer\" value=\"Student\" name=\"Student\" required><label>Student</label> \n    <input type=\"radio\" [(ngModel)]=\"answer\" value=\"Lecturer\" name=\"Lecturer\" required><label>Lecturer</label>\n    <input type=\"radio\" [(ngModel)]=\"answer\" value=\"Admin\" name=\"Admin\" required><label>Admin</label>\n    <br><br>\n    <label for=\"username\">Username</label><br>\n    <input type=\"text\" name=\"stuNumber\" placeholder=\"Username\" ngModel required><br><br>\n    <label for=\"password\">Password</label><br>\n    <input type=\"password\" name=\"password\" ngModel placeholder=\"Password\" required><br>\n     <br><br><button id=\"login_btn\" type=\"submit\" ngModel>Login</button>\n     <br><br>\n     <a id=\"forgotpass\" routerLink=\"/forgot-password\" routerLinkActive=\"active\">Forgot Password?</a>\n\n    \n   </form>\n\n   <br>\n\n   <div id=\"footer\">\n    <footer>\n      <br>\n      <div class=\"covid\">\n        <a href=\"https://sacoronavirus.co.za/\"><img style = \" border-radius: 15px;\"alt=\"SACoronavirus Resource and News Portal\" width=\"30%\" height=\"80\"\n          src=\"/assets/images/SACoronavirus.png\"></a>\n      </div>\n      <br>\n      <div class=\"about\">\n      <h4>\n        <a class=\"contact\" href=\"\">contact Us</a><br><br>\n        <a class=\"about\" href=\"\">About</a>\n      </h4>\n      </div> \n          <h4>Follow Us<br><br>\n            <a class=\"facebook\" href=\"https://www.facebook.com/TUTCommunications\">Facebook</a><br><br>\n            <a class=\"twitter\" href=\"https://twitter.com/official_tut\">Twitter</a><br><br>\n            <a class=\"youtube\" href=\"https://www.youtube.com/channel/UCD4jxDpRYTarILQjtsEQv9Q?view_as=subscriber\">Youtube</a><br><br>\n          </h4>\n        \n    </footer>\n  </div> \n  "],"sourceRoot":""},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router; //variable to store the selected radio button\n\n    this.answer = '';\n  }\n\n  ngOnInit() {}\n\n  onSubmit(data) {\n    // TODO: Use EventEmitter with form value\n    //console.warn(this.loginForm.value);\n\n    /*\r\n       const encryption = {\r\n         key: 'AAAAAAAAAAAAAA',\r\n         algorithm: 'aes-256-cbc',\r\n       };\r\n    \n      const jwtDetails = {\r\n         secret: '1234567890', // to sign the token\r\n         // Default values that will be automatically applied unless specified.\r\n         //algorithm: 'HS256',\r\n         //expiresIn: '12h',\r\n         //notBefore: '0s',\r\n         // Other optional values\r\n         key: 'ThisIsMyAppISS',// is used as ISS but can be named iss too\r\n     };*/\n    //Check if Selected Radio button is for student\n    if (this.answer == \"Student\") {\n      console.log(this.answer); //Retrieve Information from the database\n\n      this.http.post('http://localhost:3000/login', data, {\n        responseType: 'text'\n      }).subscribe(result => {\n        console.warn(\"result\", result);\n\n        if (result == \"incorrect username or password\" || result == \"Enter Values\") {\n          Swal.fire(result, '', 'warning');\n        } else {\n          /* const jwt = async()=> {\r\n             \r\n             const token = await jwtEncrypt.generateJWT(\r\n             this.answer,\r\n             encryption,\r\n             result\r\n           );}\r\n           //store the results using a token\r\n           localStorage.setItem(\"token\", result)\r\n          */\n          Swal.fire('Successfully Logged In!', '', 'success'); //Navigate to the Home page\n\n          this.router.navigate(['/home']);\n        }\n      });\n      console.warn(data);\n    } //Check if Selected Radio button is for Lecturer\n\n\n    if (this.answer == \"Lecturer\") {\n      console.log(this.answer); //Retrieve Information from the database\n\n      this.http.post('http://localhost:3000/lec_login', data, {\n        responseType: 'text'\n      }).subscribe(result => {\n        console.warn(\"result\", result);\n\n        if (result == \"incorrect username or password\" || result == \"Enter Values\") {\n          Swal.fire(result, '', 'warning');\n        } else {\n          //store the results using a token\n          localStorage.setItem(\"token\", result);\n          Swal.fire('Successfully Logged In!', '', 'success'); //Navigate to the Home page\n\n          this.router.navigate(['/lecture-home']);\n        }\n      });\n      console.warn(data);\n    } //Check if Selected Radio button is for Admin\n\n\n    if (this.answer == \"Admin\") {\n      console.log(this.answer); //Retrieve fronm database\n\n      this.http.post('http://localhost:3000/adminLogin', data, {\n        responseType: 'text'\n      }).subscribe(result => {\n        console.warn(\"result\", result);\n\n        if (result == \"incorrect username or password\" || result == \"Enter Values\") {\n          Swal.fire(result, '', 'warning'); //Navigate to the Admin  page\n        } else {\n          localStorage.setItem(\"token\", result);\n          Swal.fire('Successfully Logged In!', '', 'success');\n          this.router.navigate(['/admin']);\n        }\n      });\n      console.warn(data);\n    } //check if the radio button is clicked\n\n\n    if (this.answer == \"\") {\n      Swal.fire('Select Radio Button', '', 'error');\n    }\n  }\n\n}\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  inputs: {\n    answer: \"answer\"\n  },\n  decls: 82,\n  vars: 3,\n  consts: [[\"src\", \"assets/images/LBSdesign1.png\", \"alt\", \"\", \"width\", \"130\", \"height\", \"90\"], [\"routerLink\", \"/register\", \"routerLinkActive\", \"active\"], [2, \"text-align\", \"center\", 3, \"ngSubmit\"], [\"userPost\", \"ngForm\"], [\"type\", \"radio\", \"value\", \"Student\", \"name\", \"Student\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"radio\", \"value\", \"Lecturer\", \"name\", \"Lecturer\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"radio\", \"value\", \"Admin\", \"name\", \"Admin\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"username\"], [\"type\", \"text\", \"name\", \"stuNumber\", \"placeholder\", \"Username\", \"ngModel\", \"\", \"required\", \"\"], [\"for\", \"password\"], [\"type\", \"password\", \"name\", \"password\", \"ngModel\", \"\", \"placeholder\", \"Password\", \"required\", \"\"], [\"id\", \"login_btn\", \"type\", \"submit\", \"ngModel\", \"\"], [\"id\", \"forgotpass\", \"routerLink\", \"/forgot-password\", \"routerLinkActive\", \"active\"], [\"id\", \"footer\"], [1, \"covid\"], [\"href\", \"https://sacoronavirus.co.za/\"], [\"alt\", \"SACoronavirus Resource and News Portal\", \"width\", \"30%\", \"height\", \"80\", \"src\", \"/assets/images/SACoronavirus.png\", 2, \"border-radius\", \"15px\"], [1, \"cover\"], [1, \"about\"], [\"href\", \"\", 1, \"contact\"], [\"href\", \"\", 1, \"about\"], [1, \"follow\"], [\"href\", \"https://www.facebook.com/TUTCommunications\", 1, \"facebook\"], [\"href\", \"https://twitter.com/official_tut\", 1, \"twitter\"], [\"href\", \"https://www.youtube.com/channel/UCD4jxDpRYTarILQjtsEQv9Q?view_as=subscriber\", 1, \"youtube\"], [\"href\", \"https://www.tut.ac.za/other/disclaimers/terms-and-conditions\"], [\"id\", \"privacy\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r1 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"header\");\n      i0.ɵɵelementStart(1, \"h1\");\n      i0.ɵɵelement(2, \"img\", 0);\n      i0.ɵɵtext(3, \"\\u00A0\\u00A0\\u00A0 Lab Booking system \");\n      i0.ɵɵelementStart(4, \"nav\");\n      i0.ɵɵelementStart(5, \"a\", 1);\n      i0.ɵɵtext(6, \"Register / Create Account\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(7, \"\\u00A0\\u00A0 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"h3\");\n      i0.ɵɵtext(9, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"br\");\n      i0.ɵɵelementStart(11, \"form\", 2, 3);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_11_listener() {\n        i0.ɵɵrestoreView(_r1);\n\n        const _r0 = i0.ɵɵreference(12);\n\n        return ctx.onSubmit(_r0.value);\n      });\n      i0.ɵɵelementStart(13, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_13_listener($event) {\n        return ctx.answer = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"label\");\n      i0.ɵɵtext(15, \"Student\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.answer = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"label\");\n      i0.ɵɵtext(18, \"Lecturer\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_19_listener($event) {\n        return ctx.answer = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"label\");\n      i0.ɵɵtext(21, \"Admin\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(22, \"br\");\n      i0.ɵɵelement(23, \"br\");\n      i0.ɵɵelementStart(24, \"label\", 7);\n      i0.ɵɵtext(25, \"Username\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(26, \"br\");\n      i0.ɵɵelement(27, \"input\", 8);\n      i0.ɵɵelement(28, \"br\");\n      i0.ɵɵelement(29, \"br\");\n      i0.ɵɵelementStart(30, \"label\", 9);\n      i0.ɵɵtext(31, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(32, \"br\");\n      i0.ɵɵelement(33, \"input\", 10);\n      i0.ɵɵelement(34, \"br\");\n      i0.ɵɵelement(35, \"br\");\n      i0.ɵɵelement(36, \"br\");\n      i0.ɵɵelementStart(37, \"button\", 11);\n      i0.ɵɵtext(38, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(39, \"br\");\n      i0.ɵɵelement(40, \"br\");\n      i0.ɵɵelementStart(41, \"a\", 12);\n      i0.ɵɵtext(42, \"Forgot Password?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(43, \"br\");\n      i0.ɵɵelementStart(44, \"div\", 13);\n      i0.ɵɵelementStart(45, \"footer\");\n      i0.ɵɵelement(46, \"br\");\n      i0.ɵɵelementStart(47, \"div\", 14);\n      i0.ɵɵelementStart(48, \"a\", 15);\n      i0.ɵɵelement(49, \"img\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(50, \"br\");\n      i0.ɵɵelementStart(51, \"div\", 17);\n      i0.ɵɵelementStart(52, \"div\", 18);\n      i0.ɵɵelementStart(53, \"h2\");\n      i0.ɵɵtext(54, \"Get In Touch\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"a\", 19);\n      i0.ɵɵtext(56, \"contact Us\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(57, \"br\");\n      i0.ɵɵelement(58, \"br\");\n      i0.ɵɵelementStart(59, \"a\", 20);\n      i0.ɵɵtext(60, \"About\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(61, \"div\", 21);\n      i0.ɵɵelementStart(62, \"h2\");\n      i0.ɵɵtext(63, \"Follow Us\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(64, \"a\", 22);\n      i0.ɵɵtext(65, \"Facebook\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(66, \"br\");\n      i0.ɵɵelement(67, \"br\");\n      i0.ɵɵelementStart(68, \"a\", 23);\n      i0.ɵɵtext(69, \"Twitter\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(70, \"br\");\n      i0.ɵɵelement(71, \"br\");\n      i0.ɵɵelementStart(72, \"a\", 24);\n      i0.ɵɵtext(73, \"Youtube\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(74, \"hr\");\n      i0.ɵɵelementStart(75, \"p\");\n      i0.ɵɵtext(76, \"\\u00A9 2021 TUT - ALL RIGHTS RESERVED\");\n      i0.ɵɵelementStart(77, \"span\");\n      i0.ɵɵelementStart(78, \"a\", 25);\n      i0.ɵɵelementStart(79, \"p\", 26);\n      i0.ɵɵtext(80, \"Privacy Policy\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(81, \"br\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngModel\", ctx.answer);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.answer);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.answer);\n    }\n  },\n  directives: [i2.RouterLinkWithHref, i2.RouterLinkActive, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.RadioControlValueAccessor, i3.DefaultValueAccessor, i3.RequiredValidator, i3.NgControlStatus, i3.NgModel],\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (function()[_ngcontent-%COMP%] { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 88:\\n\\n (function() {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/@angular-devkit/build-angular/node_modules/postcss-loader/dist/cjs.js):\\\\nSyntaxError\\\\n\\\\n(104:5) C:\\\\\\\\Users\\\\\\\\sebet\\\\\\\\LBS\\\\\\\\LBS-front\\\\\\\\src\\\\\\\\app\\\\\\\\login\\\\\\\\login.component.css Unknown word\\\\n\\\\n \\\\u001b[90m 102 | \\\\u001b[39m    border-style\\\\u001b[33m:\\\\u001b[39m solid grey 0.5px\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m 103 | \\\\u001b[39m    width\\\\u001b[33m:\\\\u001b[39m 350px\\\\u001b[33m;\\\\u001b[39m\\\\n\\\\u001b[1m\\\\u001b[31m>\\\\u001b[39m\\\\u001b[22m\\\\u001b[90m 104 | \\\\u001b[39m    border\\\\n \\\\u001b[90m     | \\\\u001b[39m    \\\\u001b[1m\\\\u001b[31m^\\\\u001b[39m\\\\u001b[22m\\\\n \\\\u001b[90m 105 | \\\\u001b[39m  \\\\u001b[33m}\\\\u001b[39m\\\\n \\\\u001b[90m 106 | \\\\u001b[39m  form label\\\\u001b[33m{\\\\u001b[39m\\\\n\\\");\\n\\n })\\n\\n \\t});\\n\\n \\t\\n \\t// startup\\n \\t// Load entry module and return exports\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n \\tvar __webpack_exports__ = {};\\n \\t__webpack_modules__[88]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\\n/*# sourceMappingURL=login.component.css.map*/\"]\n});","map":{"version":3,"sources":["C:\\Users\\sebet\\LBS\\LBS-front\\src\\app\\login\\login.component.ts","C:\\Users\\sebet\\LBS\\LBS-front\\src\\app\\login\\login.component.html"],"names":[],"mappings":"AAKA,OAAO,IAAP,MAAiB,aAAjB;;;;;AAYA,OAAM,MAAO,cAAP,CAAqB;AAIzB,EAAA,WAAA,CAAoB,IAApB,EAA8C,MAA9C,EAA4D;AAAxC,SAAA,IAAA,GAAA,IAAA;AAA0B,SAAA,MAAA,GAAA,MAAA,CAAc,CAE5D;;AACA,SAAA,MAAA,GAAS,EAAT;AAHiE;;AAKjE,EAAA,QAAQ,GAAA,CACP;;AAID,EAAA,QAAQ,CAAC,IAAD,EAAK;AACX;AACA;;AACH;;;;;;;;;;;;;;AAcK;AAGF;AACA,QAAI,KAAK,MAAL,IAAe,SAAnB,EAA8B;AAC5B,MAAA,OAAO,CAAC,GAAR,CAAY,KAAK,MAAjB,EAD4B,CAE5B;;AACA,WAAK,IAAL,CAAU,IAAV,CAAe,6BAAf,EAA8C,IAA9C,EAAoD;AAAE,QAAA,YAAY,EAAE;AAAhB,OAApD,EACG,SADH,CACc,MAAD,IAAW;AACpB,QAAA,OAAO,CAAC,IAAR,CAAa,QAAb,EAAuB,MAAvB;;AACA,YAAI,MAAM,IAAI,gCAAV,IAA8C,MAAM,IAAI,cAA5D,EAA4E;AAC1E,UAAA,IAAI,CAAC,IAAL,CACE,MADF,EAEE,EAFF,EAGE,SAHF;AAMD,SAPD,MAOO;AACL;;;;;;;;;AASE;AACF,UAAA,IAAI,CAAC,IAAL,CAEE,yBAFF,EAGE,EAHF,EAIE,SAJF,EAXK,CAiBL;;AACA,eAAK,MAAL,CAAY,QAAZ,CAAqB,CAAC,OAAD,CAArB;AACD;AAEF,OA/BH;AAgCA,MAAA,OAAO,CAAC,IAAR,CAAa,IAAb;AACD,KAzDU,CA0DX;;;AACA,QAAI,KAAK,MAAL,IAAe,UAAnB,EAA+B;AAC7B,MAAA,OAAO,CAAC,GAAR,CAAY,KAAK,MAAjB,EAD6B,CAE7B;;AACA,WAAK,IAAL,CAAU,IAAV,CAAe,iCAAf,EAAkD,IAAlD,EAAwD;AAAE,QAAA,YAAY,EAAE;AAAhB,OAAxD,EACG,SADH,CACc,MAAD,IAAW;AACpB,QAAA,OAAO,CAAC,IAAR,CAAa,QAAb,EAAuB,MAAvB;;AACA,YAAI,MAAM,IAAI,gCAAV,IAA8C,MAAM,IAAI,cAA5D,EAA4E;AAC1E,UAAA,IAAI,CAAC,IAAL,CACE,MADF,EAEE,EAFF,EAGE,SAHF;AAMD,SAPD,MAOO;AAEL;AACA,UAAA,YAAY,CAAC,OAAb,CAAqB,OAArB,EAA6B,MAA7B;AAEA,UAAA,IAAI,CAAC,IAAL,CACE,yBADF,EAEE,EAFF,EAGE,SAHF,EALK,CAUL;;AAEA,eAAK,MAAL,CAAY,QAAZ,CAAqB,CAAC,eAAD,CAArB;AAGD;AAEF,OA3BH;AA4BA,MAAA,OAAO,CAAC,IAAR,CAAa,IAAb;AACD,KA3FU,CA4FX;;;AACA,QAAI,KAAK,MAAL,IAAe,OAAnB,EAA4B;AAC1B,MAAA,OAAO,CAAC,GAAR,CAAY,KAAK,MAAjB,EAD0B,CAG1B;;AACA,WAAK,IAAL,CAAU,IAAV,CAAe,kCAAf,EAAmD,IAAnD,EAAyD;AAAE,QAAA,YAAY,EAAE;AAAhB,OAAzD,EACG,SADH,CACc,MAAD,IAAW;AACpB,QAAA,OAAO,CAAC,IAAR,CAAa,QAAb,EAAuB,MAAvB;;AACA,YAAI,MAAM,IAAI,gCAAV,IAA8C,MAAM,IAAI,cAA5D,EAA4E;AAC1E,UAAA,IAAI,CAAC,IAAL,CACG,MADH,EAEI,EAFJ,EAGI,SAHJ,EAD0E,CAM1E;AAGD,SATD,MASO;AACL,UAAA,YAAY,CAAC,OAAb,CAAqB,OAArB,EAA8B,MAA9B;AAEA,UAAA,IAAI,CAAC,IAAL,CACE,yBADF,EAEE,EAFF,EAGE,SAHF;AAMA,eAAK,MAAL,CAAY,QAAZ,CAAqB,CAAC,QAAD,CAArB;AAED;AACF,OAxBH;AAyBA,MAAA,OAAO,CAAC,IAAR,CAAa,IAAb;AAED,KA5HU,CA8HX;;;AACA,QAAI,KAAK,MAAL,IAAe,EAAnB,EAAuB;AACrB,MAAA,IAAI,CAAC,IAAL,CACE,qBADF,EAEE,EAFF,EAGE,OAHF;AAKD;AAIF;;AAvJwB;;;mBAAd,c,EAAc,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,UAAA,C,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,MAAA,C;AAAA,C;;;QAAd,c;AAAc,EAAA,SAAA,EAAA,CAAA,CAAA,WAAA,CAAA,C;AAAA,EAAA,MAAA,EAAA;AAAA,IAAA,MAAA,EAAA;AAAA,G;AAAA,EAAA,KAAA,EAAA,E;AAAA,EAAA,IAAA,EAAA,C;AAAA,EAAA,MAAA,EAAA,CAAA,CAAA,KAAA,EAAA,8BAAA,EAAA,KAAA,EAAA,EAAA,EAAA,OAAA,EAAA,KAAA,EAAA,QAAA,EAAA,IAAA,CAAA,EAAA,CAAA,YAAA,EAAA,WAAA,EAAA,kBAAA,EAAA,QAAA,CAAA,EAAA,CAAA,CAAA,EAAA,YAAA,EAAA,QAAA,EAAA,CAAA,EAAA,UAAA,CAAA,EAAA,CAAA,UAAA,EAAA,QAAA,CAAA,EAAA,CAAA,MAAA,EAAA,OAAA,EAAA,OAAA,EAAA,SAAA,EAAA,MAAA,EAAA,SAAA,EAAA,UAAA,EAAA,EAAA,EAAA,CAAA,EAAA,SAAA,EAAA,eAAA,CAAA,EAAA,CAAA,MAAA,EAAA,OAAA,EAAA,OAAA,EAAA,UAAA,EAAA,MAAA,EAAA,UAAA,EAAA,UAAA,EAAA,EAAA,EAAA,CAAA,EAAA,SAAA,EAAA,eAAA,CAAA,EAAA,CAAA,MAAA,EAAA,OAAA,EAAA,OAAA,EAAA,OAAA,EAAA,MAAA,EAAA,OAAA,EAAA,UAAA,EAAA,EAAA,EAAA,CAAA,EAAA,SAAA,EAAA,eAAA,CAAA,EAAA,CAAA,KAAA,EAAA,UAAA,CAAA,EAAA,CAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,WAAA,EAAA,aAAA,EAAA,UAAA,EAAA,SAAA,EAAA,EAAA,EAAA,UAAA,EAAA,EAAA,CAAA,EAAA,CAAA,KAAA,EAAA,UAAA,CAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,MAAA,EAAA,UAAA,EAAA,SAAA,EAAA,EAAA,EAAA,aAAA,EAAA,UAAA,EAAA,UAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,EAAA,WAAA,EAAA,MAAA,EAAA,QAAA,EAAA,SAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,EAAA,YAAA,EAAA,YAAA,EAAA,kBAAA,EAAA,kBAAA,EAAA,QAAA,CAAA,EAAA,CAAA,IAAA,EAAA,QAAA,CAAA,EAAA,CAAA,CAAA,EAAA,OAAA,CAAA,EAAA,CAAA,MAAA,EAAA,8BAAA,CAAA,EAAA,CAAA,KAAA,EAAA,wCAAA,EAAA,OAAA,EAAA,KAAA,EAAA,QAAA,EAAA,IAAA,EAAA,KAAA,EAAA,kCAAA,EAAA,CAAA,EAAA,eAAA,EAAA,MAAA,CAAA,EAAA,CAAA,CAAA,EAAA,OAAA,CAAA,EAAA,CAAA,CAAA,EAAA,OAAA,CAAA,EAAA,CAAA,MAAA,EAAA,EAAA,EAAA,CAAA,EAAA,SAAA,CAAA,EAAA,CAAA,MAAA,EAAA,EAAA,EAAA,CAAA,EAAA,OAAA,CAAA,EAAA,CAAA,CAAA,EAAA,QAAA,CAAA,EAAA,CAAA,MAAA,EAAA,4CAAA,EAAA,CAAA,EAAA,UAAA,CAAA,EAAA,CAAA,MAAA,EAAA,kCAAA,EAAA,CAAA,EAAA,SAAA,CAAA,EAAA,CAAA,MAAA,EAAA,6EAAA,EAAA,CAAA,EAAA,SAAA,CAAA,EAAA,CAAA,MAAA,EAAA,8DAAA,CAAA,EAAA,CAAA,IAAA,EAAA,SAAA,CAAA,C;AAAA,EAAA,QAAA,EAAA,SAAA,uBAAA,CAAA,EAAA,EAAA,GAAA,EAAA;AAAA,QAAA,EAAA,GAAA,CAAA,EAAA;;;AChB3B,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,QAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA;AAAuE,MAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,wCAAA;AAExE,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA;AAIE,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,GAAA,EAAA,CAAA;AAAoD,MAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,2BAAA;AAAyB,MAAA,EAAA,CAAA,YAAA;AAAI,MAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,eAAA;AAErF,MAAA,EAAA,CAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACD,MAAA,EAAA,CAAA,YAAA;AACA,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,OAAA;AAAK,MAAA,EAAA,CAAA,YAAA;AACT,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AACA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,MAAA,EAAA,CAAA,EAAA,CAAA;AAAyB,MAAA,EAAA,CAAA,UAAA,CAAA,UAAA,EAAA,SAAA,iDAAA,GAAA;AAAA,QAAA,EAAA,CAAA,aAAA,CAAA,GAAA;;AAAA,cAAA,GAAA,GAAA,EAAA,CAAA,WAAA,CAAA,EAAA,CAAA;;AAAA,eAAY,GAAA,CAAA,QAAA,CAAA,GAAA,CAAA,KAAA,CAAZ;AAAoC,OAApC;AACrB,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,EAAA,CAAA;AAAoB,MAAA,EAAA,CAAA,UAAA,CAAA,eAAA,EAAA,SAAA,uDAAA,CAAA,MAAA,EAAA;AAAA,eAAA,GAAA,CAAA,MAAA,GAAA,MAAA;AAAA,OAAA;AAApB,MAAA,EAAA,CAAA,YAAA;AAAiF,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA;AAAO,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,SAAA;AAAO,MAAA,EAAA,CAAA,YAAA;AAC/F,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,EAAA,CAAA;AAAoB,MAAA,EAAA,CAAA,UAAA,CAAA,eAAA,EAAA,SAAA,uDAAA,CAAA,MAAA,EAAA;AAAA,eAAA,GAAA,CAAA,MAAA,GAAA,MAAA;AAAA,OAAA;AAApB,MAAA,EAAA,CAAA,YAAA;AAAmF,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA;AAAO,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,UAAA;AAAQ,MAAA,EAAA,CAAA,YAAA;AAClG,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,EAAA,CAAA;AAAoB,MAAA,EAAA,CAAA,UAAA,CAAA,eAAA,EAAA,SAAA,uDAAA,CAAA,MAAA,EAAA;AAAA,eAAA,GAAA,CAAA,MAAA,GAAA,MAAA;AAAA,OAAA;AAApB,MAAA,EAAA,CAAA,YAAA;AAA6E,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA;AAAO,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,OAAA;AAAK,MAAA,EAAA,CAAA,YAAA;AACzF,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AACJ,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,EAAA,CAAA;AAAsB,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,UAAA;AAAQ,MAAA,EAAA,CAAA,YAAA;AAAQ,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AACtC,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,OAAA,EAAA,CAAA;AAA4E,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAChF,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,EAAA,CAAA;AAAsB,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,UAAA;AAAQ,MAAA,EAAA,CAAA,YAAA;AAAQ,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AACtC,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,OAAA,EAAA,EAAA;AAA+E,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAC9E,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,QAAA,EAAA,EAAA;AAA6C,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,OAAA;AAAK,MAAA,EAAA,CAAA,YAAA;AAC1D,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AACJ,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA;AAA2E,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,kBAAA;AAAgB,MAAA,EAAA,CAAA,YAAA;AAG7F,MAAA,EAAA,CAAA,YAAA;AAEA,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAEA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA;AACC,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,QAAA;AACE,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AACA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA;AAAuC,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA;AACE,MAAA,EAAA,CAAA,YAAA;AAC3C,MAAA,EAAA,CAAA,YAAA;AACA,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AACA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,cAAA;AAAY,MAAA,EAAA,CAAA,YAAA;AAChB,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA;AAA2B,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,YAAA;AAAU,MAAA,EAAA,CAAA,YAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAC7C,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA;AAAyB,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,OAAA;AAAK,MAAA,EAAA,CAAA,YAAA;AAChC,MAAA,EAAA,CAAA,YAAA;AACA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,WAAA;AAAS,MAAA,EAAA,CAAA,YAAA;AACX,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA;AAAsE,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,UAAA;AAAQ,MAAA,EAAA,CAAA,YAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AACtF,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA;AAA2D,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,SAAA;AAAO,MAAA,EAAA,CAAA,YAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAC1E,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA;AAAsG,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,SAAA;AAAO,MAAA,EAAA,CAAA,YAAA;AACjH,MAAA,EAAA,CAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACI,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AACA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA;AAAG,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,uCAAA;AAAqC,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,MAAA;AAAM,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA;AAAuE,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA;AAAgB,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,gBAAA;AAAc,MAAA,EAAA,CAAA,YAAA;AAAI,MAAA,EAAA,CAAA,YAAA;AAAI,MAAA,EAAA,CAAA,YAAA;AAAO,MAAA,EAAA,CAAA,YAAA;AAElK,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AACN,MAAA,EAAA,CAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;;;;AA3CsB,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA;AAAA,MAAA,EAAA,CAAA,UAAA,CAAA,SAAA,EAAA,GAAA,CAAA,MAAA;AACA,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,UAAA,CAAA,SAAA,EAAA,GAAA,CAAA,MAAA;AACA,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,UAAA,CAAA,SAAA,EAAA,GAAA,CAAA,MAAA","sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\r\n//import { FormGroup, FormControl, FormBuilder,Validators } from '@angular/forms';\r\n//import { IssueService } from '../issue.service';\r\nimport { Router, NavigationExtras } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport Swal from 'sweetalert2';\r\nimport * as jwtEncrypt from 'jwt-token-encrypt';\r\n\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css'],\r\n\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n\r\n\r\n  constructor(private http: HttpClient, private router: Router) { }\r\n  @Input()\r\n  //variable to store the selected radio button\r\n  answer = '';\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n\r\n\r\n  onSubmit(data) {\r\n    // TODO: Use EventEmitter with form value\r\n    //console.warn(this.loginForm.value);\r\n /*\r\n    const encryption = {\r\n      key: 'AAAAAAAAAAAAAA',\r\n      algorithm: 'aes-256-cbc',\r\n    };\r\n\r\n   const jwtDetails = {\r\n      secret: '1234567890', // to sign the token\r\n      // Default values that will be automatically applied unless specified.\r\n      //algorithm: 'HS256',\r\n      //expiresIn: '12h',\r\n      //notBefore: '0s',\r\n      // Other optional values\r\n      key: 'ThisIsMyAppISS',// is used as ISS but can be named iss too\r\n  };*/\r\n\r\n\r\n    //Check if Selected Radio button is for student\r\n    if (this.answer == \"Student\") {\r\n      console.log(this.answer);\r\n      //Retrieve Information from the database\r\n      this.http.post('http://localhost:3000/login', data, { responseType: 'text' })\r\n        .subscribe((result) => {\r\n          console.warn(\"result\", result)\r\n          if (result == \"incorrect username or password\" || result == \"Enter Values\") {\r\n            Swal.fire(\r\n              result,\r\n              '',\r\n              'warning'\r\n            )\r\n\r\n          } else {\r\n            /* const jwt = async()=> {\r\n               \r\n               const token = await jwtEncrypt.generateJWT(\r\n               this.answer,\r\n               encryption,\r\n               result\r\n             );}\r\n             //store the results using a token\r\n             localStorage.setItem(\"token\", result)\r\n            */\r\n            Swal.fire(\r\n\r\n              'Successfully Logged In!',\r\n              '',\r\n              'success'\r\n            )\r\n            //Navigate to the Home page\r\n            this.router.navigate(['/home']);\r\n          }\r\n\r\n        })\r\n      console.warn(data);\r\n    }\r\n    //Check if Selected Radio button is for Lecturer\r\n    if (this.answer == \"Lecturer\") {\r\n      console.log(this.answer);\r\n      //Retrieve Information from the database\r\n      this.http.post('http://localhost:3000/lec_login', data, { responseType: 'text' })\r\n        .subscribe((result) => {\r\n          console.warn(\"result\", result)\r\n          if (result == \"incorrect username or password\" || result == \"Enter Values\") {\r\n            Swal.fire(\r\n              result,\r\n              '',\r\n              'warning'\r\n            )\r\n\r\n          } else {\r\n\r\n            //store the results using a token\r\n            localStorage.setItem(\"token\",result);\r\n\r\n            Swal.fire(\r\n              'Successfully Logged In!',\r\n              '',\r\n              'success'\r\n            )\r\n            //Navigate to the Home page\r\n\r\n            this.router.navigate(['/lecture-home']);\r\n\r\n\r\n          }\r\n\r\n        })\r\n      console.warn(data);\r\n    }\r\n    //Check if Selected Radio button is for Admin\r\n    if (this.answer == \"Admin\") {\r\n      console.log(this.answer);\r\n\r\n      //Retrieve fronm database\r\n      this.http.post('http://localhost:3000/adminLogin', data, { responseType: 'text' })\r\n        .subscribe((result) => {\r\n          console.warn(\"result\", result)\r\n          if (result == \"incorrect username or password\" || result == \"Enter Values\") {\r\n            Swal.fire\r\n              (result,\r\n                '',\r\n                'warning'\r\n              )\r\n            //Navigate to the Admin  page\r\n\r\n\r\n          } else {\r\n            localStorage.setItem(\"token\", result)\r\n\r\n            Swal.fire(\r\n              'Successfully Logged In!',\r\n              '',\r\n              'success'\r\n            )\r\n\r\n            this.router.navigate(['/admin']);\r\n\r\n          }\r\n        })\r\n      console.warn(data);\r\n\r\n    }\r\n\r\n    //check if the radio button is clicked\r\n    if (this.answer == \"\") {\r\n      Swal.fire(\r\n        'Select Radio Button',\r\n        '',\r\n        'error'\r\n      )\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n}\r\n","\r\n<header>  \r\n  <h1><img src=\"assets/images/LBSdesign1.png\" alt=\"\" width=\"130\" height=\"90\">&nbsp;&nbsp;&nbsp;\r\n   Lab Booking system\r\n     <nav>\r\n\r\n      \r\n\r\n       <a routerLink=\"/register\" routerLinkActive=\"active\">Register / Create Account</a>&nbsp;&nbsp;\r\n\r\n   </nav>\r\n </h1>\r\n</header>\r\n<h3>Login</h3>\r\n<br>\r\n<form #userPost=\"ngForm\" (ngSubmit)=\"onSubmit(userPost.value)\" style=\"text-align: center;\">\r\n    <input type=\"radio\" [(ngModel)]=\"answer\" value=\"Student\" name=\"Student\" required><label>Student</label> \r\n    <input type=\"radio\" [(ngModel)]=\"answer\" value=\"Lecturer\" name=\"Lecturer\" required><label>Lecturer</label>\r\n    <input type=\"radio\" [(ngModel)]=\"answer\" value=\"Admin\" name=\"Admin\" required><label>Admin</label>\r\n    <br><br>\r\n    <label for=\"username\">Username</label><br>\r\n    <input type=\"text\" name=\"stuNumber\" placeholder=\"Username\" ngModel required><br><br>\r\n    <label for=\"password\">Password</label><br>\r\n    <input type=\"password\" name=\"password\" ngModel placeholder=\"Password\" required><br>\r\n     <br><br><button id=\"login_btn\" type=\"submit\" ngModel>Login</button>\r\n     <br><br>\r\n     <a id=\"forgotpass\" routerLink=\"/forgot-password\" routerLinkActive=\"active\">Forgot Password?</a>\r\n\r\n    \r\n   </form>\r\n\r\n   <br>\r\n\r\n   <div id=\"footer\">\r\n    <footer >\r\n      <br>\r\n      <div class=\"covid\">\r\n        <a href=\"https://sacoronavirus.co.za/\"><img style = \" border-radius: 15px;\"alt=\"SACoronavirus Resource and News Portal\" width=\"30%\" height=\"80\"\r\n          src=\"/assets/images/SACoronavirus.png\"></a>\r\n      </div>\r\n      <br>\r\n      <div class=\"cover\">\r\n        <div class=\"about\">\r\n          <h2>Get In Touch</h2>\r\n          <a class=\"contact\" href=\"\">contact Us</a><br><br>\r\n          <a class=\"about\" href=\"\">About</a>\r\n        </div> \r\n        <div class=\"follow\">\r\n          <h2>Follow Us</h2>\r\n            <a class=\"facebook\" href=\"https://www.facebook.com/TUTCommunications\">Facebook</a><br><br>\r\n            <a class=\"twitter\" href=\"https://twitter.com/official_tut\">Twitter</a><br><br>\r\n            <a class=\"youtube\" href=\"https://www.youtube.com/channel/UCD4jxDpRYTarILQjtsEQv9Q?view_as=subscriber\">Youtube</a>\r\n        </div>\r\n      </div>\r\n          <hr>\r\n          <p>&copy; 2021 TUT - ALL RIGHTS RESERVED<span><a href=\"https://www.tut.ac.za/other/disclaimers/terms-and-conditions\"><p id=\"privacy\">Privacy Policy</p></a></span></p>\r\n          \r\n          <br>\r\n    </footer>\r\n  </div> "],"sourceRoot":""},"metadata":{},"sourceType":"module"}